#Εργαστήριο ΛΣ 1/ Άσκηση 1 / 2020-21
#
#----------------------------------------
#
#Ερώτηση 1: Δημιουργήστε στον τρέχοντα κατάλογο το αρχείο 'ask1.txt' με τα ακόλουθα περιεχόμενα(όνομα, επώνυμο, username, ΤΚ, περιοχή, τηλ.) και
#εμφανίστε το στησυνέχεια στην οθόνη, με αριθμημένες τις γραμμές του.
#GeorgePappas george2 12136 Peristeri-------
#Nick Nikolaoy nick23 12232 Aigaleo 5314555
#George Georgioy george583 11132 Athens-------
#Helen Georgioy helen3 12136 Peristeri 5748456
#Nick Pappas nick4 11223 Aigaleo 5324123
#Helen Ioannoy helen367 13222 Athens -------
#Helen Thanoy helen36 11132 Peristeri9718345
#Vasilis Mamalis vas32 12345 Dafni 9738383
#
#Aπάντηση 1: Με την εντολή touch ask1.txt έφτιαξα το αρχείο ask1.txt. Έγραψα στο αρχείο με την εντολή echo -e "..." >> ask1.txt. 
#Το option -e μου επιτρέπει να χρησιμοποιήσω το \n για την αλλαγή γραμμής. Στην συνέχεια με την εντολή ask1.txt έγραψα μέσα στο αρχείο τα ζητούμενα. 
#Αρίθμησα και εκύπωσα το αρχείο με την εντολή cat -n ask1.txt όπου το 
#Εντολές:
touch ask1.txt
echo -e "GeorgePappas george2 12136 Peristeri-------\nNick Nikolaoy nick23 12232 Aigaleo 5314555\nGeorge Georgioy george583 11132 Athens-------\nHelen Georgioy helen3 12136 Peristeri 5748456\nNick Pappas nick4 11223 Aigaleo 5324123\nHelen Ioannoy helen367 13222 Athens -------\nHelen Thanoy helen36 11132 Peristeri9718345\nVasilis Mamalis vas32 12345 Dafni 9738383" >> ask1.txt
cat -n ask1.txt
#
#
#Ερώτηση 2: Τρέξτε την εντολή cal-3> calfile.txt και εξηγείστε τι ακριβώς κάνει.
#
#Aπάντηση 2: Η εντολή cal εμφανίζει το calendar. Με το option -3 εμφανίζει το calendar του προηγούμενου, του επόμενου και του τρέχων μήνα. 
#Η εντολή cal -3 >calfile.txt φτίαχνει ένα αρχείο με όνομα calfile.txt και αντιγράφει ότι εκτυπώσει στην οθόνη το option -3 
#δηλαδή το calendar του προηγούμενου, του επόμενου και του τρέχων μήνα.
#
#
#Ερώτηση 3: Συνενώστε τα αρχεία calfile.txtκαι ask1.txtσε ένα αρχείο με όνομα full.txt.
#
#Aπάντηση 3: Συνένωσα τα δύο αρχεία ask1.txt και calfile.txt με την εντολή:
cat ask1.txt calfile.txt > full.txt.
#
#
#Ερώτηση 4: Εμφανίστε στην οθόνη τα πέντε πιο πρόσφατατροποποιημένααρχεία του καταλόγου σας. 
#Aπάντηση 4:Η εντολή ls με option -t εμφανίζει τα πιο πρόσφατα αρχεία ξεκινώντας από το πιο πρόσφατο. 
#Εντολή:
ls -t
#Αποτέλεσμα:
#full.txt  calfile.txt  ask1.txt  homedir
#
#
#Ερώτηση 5: Δημιουργήστε έναν κατάλογο με όνομα 'mydir1'.Μεταβείτε σε αυτόν και στη συνέχεια αντιγράψτε εκεί (χωρίς να αλλάξετε κατάλογο) το αρχείο 'full.txt' (από το γονικό κατάλογο).
#Μετονομάστε το εν συνεχεία σε 'new.txt'.Επιστρέψτε στο γονικό κατάλογο. Διαγράψτε τον κατάλογο'mydir1'και τα περιεχόμενά του.
#
#Aπάντηση 5: Αρχικά έφτιαξα τον κατάλογο mydir1 με την εντολή mkdir mydir1. Στη συνέχεια με την εντολή cd mydir1 μεταφέρθηκα στον φάκελο mydir1. 
#Έπειτα με την εντολή cp /home/kat/Desktop/full.txt new.txt αντέγραψα το full.txt σε ένα νέο αρχείο με όνομα new.txt το οποίο βρίσκεται 
#μέσα στον φάκελο mydir1. Τέλος, έγραψα cd .. για να μεταφερθώ πίσω στο Desktop και έπειτα έγραψα rm -r mydir1 για να διαγράψω τον 
#φάκελο mydir1 αλλά και όλα τα αρχεία που περιείχε. Το option -r σημαίνει --recursive το οποίο με αφήνει να διαγράψω έναν μη κενό φάκελο.
#Εντολές:
mkdir mydir1
cd mydir1
cp /home/kat/Desktop/full.txt new.txt
cd ..
rm -r mydir1
#
#
#Ερώτηση 6: Δώστε τις εντολές που θα εμφανίσουν: (α) όλα τα αρχεία του καταλόγου /usrμε πληροφορίες για το inodeτους και το μέγεθος τους σε blocks. (β) όλα τα περιεχόμενα του δέντρου καταλόγων και υποκαταλόγων (αναδρομικά) που βρίσκονται κάτω από τον κατάλογο /usr, με πλήρεις πληροφορίες για κάθε ένα από αυτά και εμφανιζόμενα σταδιακά, σελίδα προς σελίδα
#
#Aπάντηση 6: α) Αρχικά μεταφέρθηκα μέσω της εντολής cd /usr στον κατάλογο /usr. Στην συνέχεια με την εντολή ls -i -blocks εμφάνισα όλα τα αρχεία του 
καταλόγου με πληροφορίες για το inode και το μέγεθος τους σε blocks. Τα option -i και -blocks είναι για το inode και το block size 
αντίστοιχα. 
#Εντολή: 
ls -i -blocks
#Αποτέλεσμα: 
#total 164
#1044482 72 drwxr-xr-x   2 root 69632 Nov  6 22:21 bin
#1045946  4 drwxr-xr-x   2 root  4096 Nov  2 23:00 games
#1045947 16 drwxr-xr-x  50 root 16384 Nov  3 00:59 include
#1044484 12 drwxr-xr-x 125 root 12288 Nov  3 00:59 lib
#1044485  4 drwxr-xr-x   3 root  4096 Nov  3 00:48 lib32
#1044486  4 drwxr-xr-x   2 root  4096 Nov  3 00:48 lib64
#1056331  4 drwxr-xr-x  12 root  4096 Nov  3 00:59 libexec
#1044487  4 drwxr-xr-x   2 root  4096 Nov  2 23:00 libx32
#1045944  4 drwxr-xr-x  11 root  4096 Nov  2 23:17 local
#1044483 20 drwxr-xr-x   2 root 20480 Nov  3 01:00 sbin
#1044488 16 drwxr-xr-x 395 root 16384 Nov  3 00:59 share
#1045982  4 drwxr-xr-x   5 root  4096 Nov  3 01:00 src
#
#β) Εμφάνισα όλα τα αρχεία και τις πληροφορίες αυτών με την εντολή tree -a | more όπου το option -a μου επιτρέπει να δώ όλες τις πληροφορίες τους
#και το more με βοηθά να τα δω σταδιακά, σελίδα προς σελίδα.  
#Εντολή:
tree -a | more
#
#
#Ερώτηση 7: Δημιουργήστε ένανκατάλογομε όνομα'testdir1'. Μεταβείτε σε αυτόν και φτιάξτε εκεί ένα hardlink(με το όνομα 'ask1link') προς το αρχείο 'ask1.txt'του γονικού καταλόγου. 
#Βεβαιωθείτε (δίνοντας την κατάλληλη εντολή και εξηγώντας τι βλέπετε) ότι έχει δημιουργηθεί και ότι δεν είναι symbolic(soft)link.Σ
#
#Aπάντηση 7: Αρχικά έφτιαξα έναν καταλόγο με την εντολή mkdir testmydir1. Έπειτα μεταφέρθηκα στον καταλόγο μέσω της εντολής cd testmydir1 και έφτιαξα ένα αρχείο
#με όνομα ask1link.txt μέσω της εντολής touch ask1link.txt. Τέλος, έφτιαξα ένα hardlink με την εντολή ln ask1link.txt ask1.txt. Παρατήρησα ότι τα συστήματα
#UNIX/Linux μου επιτρέπουν να φτιάξω ένα αρχείο με πολλά ονόματα και αυτό επιτυνχάνεται με ένα hardlink. 
#Εντολές:
mkdir testdir1
cd testdir1
touch ask1link.txt
ln ask1link.txt ask1.txt
#
#
#Ερώτηση 8: Μπείτε στο αρχείο 'ask1link' και διαγράψτε την τελευταία του γραμμή.Βεβαιωθείτε στη συνέχειαότι η αλλαγή αυτή έχει γίνει και στο αρχείο 'ask1.txt'.
#
#Aπάντηση 8: Κατάφερα να διαγράψω τις πρώτες γραμμές και των δύο αρχείων με την εντολή sed -i '1d' ask1link.txt ask1.txt όπου το -i σημαίνει να επεξεραστεί τα αρχεία ask1link.txt και ask1.txt
#και το 1d σημαίνει να διαγράψει την πρώτη γραμμή. 
#Εντολή:
sed -i '1d' ask1link.txt ask1.txt
#
#Ερώτηση 9: Δημιουργήστε ένα κατάλογο kat1 και μέσα σε αυτόν δύο αρχεία, file1 και file2, με περιεχόμενο τη λέξη 'one' το ένα και τη λέξη 'two'το άλλο. 
#Τρέξτε (μέσα στον κατάλογο kat1) την εντολή 'cp *'και εξηγήστετο αποτέλεσμα. Στη συνέχεια τρέξτε την εντολή 'mv *'και εξηγήστετο αποτέλεσμα.
#
#Aπάντηση 9: Η εντολή cp *, η οποία είναι ισοδύναμη με την εντολή cp file1.txt file2.txt, αντέγραψε το περιχόμενο του file1.txt στο file2.txt άρα και τα δύο αρχεία έχουν την λέξη 'one'.
#H εντολή mv *, η οποία είναι ισοδύναμη με την εντολή mv file1.txt file2.txt, μετονόμασε το file1.txt σε file2.txt και έτσι διαγράφτηκε το κανονικό file2.txt γιατί στα συστήματα UNIX/Linux
#δεν μπορούν να υπάρχουν 2 αρχεία με το ίδιο όνομα στον ίδιο φάκελο.
#Εντολές:
mkdir kat1
cd kat1
touch file1.txt file2.txt
echo "one" >> file1.txt
echo "two" >> file2.txt
cp *
mv *
#
#
#Ερώτηση 10: Εμφανίστε τις γραμμές του αρχείου 'ask1.txt' οι οποίες τελειώνουν με ένα ή περισσότερα συνεχόμενα ψηφία.
#Aπάντηση 10: Υλοποίησα το ζητούμενο την εντολή egrep '[0-9]+$' ask1.txt όπου ψάχνει μια σειρά αριθμών απο το 0-9 με τα atoms [0-9]+ όπου το  atom + σημαίνει 1 ή παραπάνω
φορές και το $ σημαίνει να την ψάξει στο τέλος της κάθε γραμμής. Η εντολή είναι η παρακάτω:
egrep '[0-9]+$' ask1.txt 
#Αποτέλεσμα:
#Nick Nikolaoy nick23 12232 Aigaleo 5314555
#Helen Georgioy helen3 12136 Peristeri 5748456
#Nick Pappas nick4 11223 Aigaleo 5324123
#Helen Thanoy helen36 11132 Peristeri9718345
#
#
#Ερώτηση 11: Εμφανίστε τις γραμμές του αρχείου 'ask1.txt' οι οποίες περιέχουν μεντο πρότυπο 'Pap' αλλά δεν περιέχουν το πρότυπο 'Aig'.
#
#Aπάντηση 11: Υλοποίησα το ζητούμενο με την εντολή grep "Pap" ask1.txt | grep -v "Aig". Το -v αντιστρέφει την λειτουργία της πρότασης. Η εντολή είναι:
grep "Pap" ask1.txt | grep -v "Aig"
#Αποτέλεσμα:
#GeorgePappas george2 12136 Peristeri-------
#
#
#Ερώτηση 12: Εμφανίστε τις γραμμές του αρχείου 'ask1.txt' οι οποίες δεν αρχίζουν με 'G' ή 'N' και περιέχουν εν συνεχεία (κάπου στα περιεχόμενά τους) τα πρότυπα 'Geo' και 'Per' με αυτή τη σειρά.
#
#Aπάντηση 12: Υλοποίησα το ζητούμενο με την εντολή egrep ^[^GN]  ask1.txt | egrep Geo.*Per. Το ^ σημαίνει να ψάξει από την αρχή της πρότασης. Το δεύτερο ^ σημαίνει άρνηση δηλαδή να 
#ψάξει τις προτάσεις που αρχίζουν με 'Geo' μετά να ακολουθείται ένας οποιοσδήποτε χαρακτήρας και να τελειώνει με 'Per'. Η εντολή είναι η εξής:
egrep ^[^GN]  ask1.txt | egrep Geo.*Per
#Αποτέλεσμα:
#Helen Georgioy helen3 12136 Peristeri 5748456
#
#Ερώτηση 13: Πόσοι χρήστες που το usernameτους δεν αρχίζει από 'ls1' είναι συνδεδεμένοιστο σύστημα ? 
#
#Aπάντηση 13: Με την εντολή who αρχικά βρήκα ποιοί είναι συνδεδεμένοι στο συστήματα. Έπειτα εκτέλεσα την εντολή who | egrep -v 'ls1' όπου με την βοήθεια της σωλήνωσης βρήκα τους
#χρήστες που το usernameτους δεν αρχίζει από 'ls1'. 
#Εντολές:
who
who | egrep -v 'ls1'
#Αποτέλεσμα:
#zeus     pts/0        2020-11-10 15:05 (83.212.114.23)
#ice18390136 pts/1        2020-11-19 17:52 (212.251.62.137)
#mcse20001 pts/2        2020-11-19 17:52 (5.54.211.26)
#ice19390185 pts/3        2020-11-19 18:06 (84.85.226.176)
#mcse20036 pts/4        2020-11-19 18:33 (94.66.56.157)
#
#
#Ερώτηση 14: Εμφανίστε όλες τις διεργασίες χρηστών (αλλ/σης) που τρέχουν αυτή τη στιγμή στο σύστημα.
#
#Aπάντηση 14: Εμφάνισα όλες τις διεργασίες με την εντολή:
ps -aux 
#
#
#Ερώτηση 15: Πόσες διεργασίες χρηστών (αλλ/σης) τρέχουν στο σύστημα και τελειώνει  το όνομά τους με 'sh' ?
#
#Aπάντηση 15: Υλοποίησα το ζητούμενο με την εντολή ps -aux | egrep sh$. Αρχικά εκτυπώνω όλες τις διεργασίες με την εντολή ps -au και έπειτα  
#το egrep ψάχνει να βρει ποιές διεργασίες τελειώνουν με 'sh'. 
#Εντολές:
ps -aux | egrep sh$
#Αποτέλεσμα:
#zeus      1976  0.0  0.0  22704  5156 pts/0    Ss   Nov10   0:00 -bash
#root      1990  0.0  0.0  21392  4028 pts/0    S+   Nov10   0:00 bash
#ice1839+ 11994  0.0  0.0  22672  5492 pts/1    Ss+  17:52   0:00 -bash
#mcse200+ 12048  0.0  0.0  22660  5220 pts/2    Ss+  17:52   0:00 -bash
#ice1939+ 12318  0.0  0.0  22660  5224 pts/3    Ss   18:06   0:00 -bash
#mcse200+ 12668  0.0  0.0  22660  5220 pts/4    Ss+  18:33   0:00 -bash
#
#
#Ερώτηση 16: Ποιες διεργασίες (πάσης μορφής) τρέχουν αυτή τη στιγμή από το λογαριασμό του διαχειριστή ?
#
#Aπάντηση 16: Υλοποίησα το ζητούμενο με την εντολή:
ps -flu root 
#Όπου -f για να εμφανιστεί το αποτέλεσμα σε μορφή full-format listing, το l για να εμφανιστεί σε BSD format και τέλος με το  u root ορίζω τον χρήστη ως root.
#
#
#Ερώτηση 17: Πόσα αρχεία του τρέχοντος καταλόγου σας (μόνο του τρέχοντος -όχι και των υποκαταλόγων του) έχουν permissions 'rw'από τους πάντες και 'x' από κανέναν ?
#
#Aπάντηση 17:Με την εντολή ls -la εμφανίζω όλα τα αρχεία του καταλόγου μου και λειτουργίες/άδιές τους. 
#Εντολή:
ls -la
#Αποτέλεσμα:
#total 44
#drwxr-xr-x   3 ice19390185 ice19390185  4096 Nov 18 02:31 .
#drwxr-xr-x 464 root        root        20480 Nov 16 23:14 ..
#-rw-------   1 ice19390185 ice19390185    58 Nov 19 18:01 .bash_history
#-rwxr-xr-x   1 ice19390185 ice19390185   220 Sep  1  2015 .bash_logout
#-rwxr-xr-x   1 ice19390185 ice19390185  3771 Sep  1  2015 .bashrc
#drwx------   2 ice19390185 ice19390185  4096 Nov 18 00:15 .cache
#-rwxr-xr-x   1 ice19390185 ice19390185   655 Jun 24  2016 .profile
#
#Πατηρώ ότι κανένας χρήστης δεν έχει permissions 'rw' του τρέχοντος καταλόγου μου. Τα αρχεία bash_history και cache δεν έχουν permission 'x' από κανέναν. 
#
#
#Ερώτηση 18: Βρείτε τους καταλόγους του συστήματος που το όνομά τους αρχίζει από 'b'.
#
#Απάντηση 18: Θέλω να βρω όλα τα αρχεία του συστήματός μου άρα θα χρησιμοποιήσω την find. Επομένως με τη εντολή find / -type d μου βρίσκει όλα αυτά τα directories στο / directory.
#Έπειτα θέλω αυτά που αρχίζουν με "b" επομένως θα βάλω ένα δεύτερο option το -name "b*" όπου βρίσκει όλα τα directories τα οποία αρχίζουν με b. Η τελική εντολή είναι η παρακάτω:
sudo find / -type d -name "b*"
#
#
#Ερώτηση 19: Να βρείτε και να παρουσιάσετε στην οθόνη με πλήρεις πληροφορίες όλα τα αρχεία με όνομα που αρχίζει από tty και βρίσκονται στον κατάλογο /dev.
#
#Απάντηση 19: Γνωρίζω ότι τα tty αρχεία είναι special character files επομένως είναι τύπου c. Η εντολή που έδωσα ήταν η: 
sudo find /dev -type c -name "tty* -ls"
#Όπου find /dev σημαίνει να ψάξει στον φάκελο dev, το -type c σημαίνει να ψάξει όλα τα special character files, το "tty*' σημαίνει να ψάξει τα αρχεία που αρχίζουν απο tty
#και τέλος  το -ls για να εκτυπώσει τις πλήρεις πληροφορίες τους.
#
#
#Ερώτηση 20: Ταξινομήστε τα περιεχόμενα του αρχείου 'ask1.txt' ως προς το usernameσε φθίνουσα σειρά.
#
#Απάντηση 20: Ταξινόμησα με φθίνουσα σειρά με την εντολή sort -r όπου -r σημαίνει reverse. Η default ταξινόμηση  της sort είναι αύξουσα επομένως με το reverse θα ταξινομήσει
#αντίστροφα. To -k 3 είναι key 3 όπου σημαίνει να ταξινομήσει ως προς την τρίτη στήλη. Η τελική εντολή είναι:
sort -r -k 3 ask1.txt 
#Αποτέλεσμα:
#Nick Pappas nick4 11223 Aigaleo 5324123
#Nick Nikolaoy nick23 12232 Aigaleo 5314555
#Helen Thanoy helen36 11132 Peristeri9718345
#Helen Ioannoy helen367 13222 Athens -------
#Helen Georgioy helen3 12136 Peristeri 5748456
#GeorgePappas george2 12136 Peristeri-------
#George Georgioy george583 11132 Athens-------
#
#
#Ερώτηση 21: Ταξινομήστε τα '.c' αρχεία του καταλόγου στον οποίον δουλεύετε ως προς το μέγεθός τους.
#
#Απάντηση 21: Ταξινόμησα όλα τα αρχεία .c με την εντολή 
ls -S *.c
#Όπου ls είναι η εντολή για να τα εκτυπώσει σε μορφή λίστας στο standard output, το option -S τα ταξινομεί ως προς το μέγε τους και το *.c για να  
#βρει και να ταξινομήσει όλα τα αρχεία.
#
#
#Ερώτηση 22: Ταξινομήστε τα αρχεία του λογαριασμού σας με permissions 644 ως προς το μέγεθός τους.
#
#Απάντηση 22: Αρχικά έκανα την εντολή cd /home/kali ώστε να μεταφερθώ στον φάκελο kali. Έπειτα όπως και στο προηγούμενο ερώτημα με την εντολή ls -laS εμφάνισα σε μορφή
#λίστας τα αρχεία του καταλόγου kali αλλά και τα ταξινόμησα με ως προς το μέγεθος τους με το option S. Τέλος επειδή γνωρίζω ότι τα permissions 644 είναι της μορφής
#"rw r r" εκτέλεσα την εντολή egrep ".rw-r--r--" όπου το atom . σημαίνει να ψάξει οποιονδήποτε χαρακτήρα. Οι εντολές που έκανα τελικά είναι οι παρακάτω:
cd /home/kali
ls -laS | egrep ".rw-r--r--"
#
#
#Ερώτηση 23: Ταξινομήστε όλα τα περιεχόμενα του καταλόγου /dev κατά πρώτον ως προς τον owner και κατά δεύτερον ως προς το groupκαι αποθηκεύστε το output στο αρχείο 'binfiles.txt'.
#
#Απάντηση 23: Κάθε γραμμή στον καταλόγο dev έχει την εξής μορφή crw--w----   1 root tty       4,  37 Nov 28 10:26 tty37 όπου στην 3η στήλη υπάρχει το όνομα του owner και στην 4η 
#το όνομα του group. Για αυτό τον λόγο με την βοήθεια της sort εκτέλεσα τις παρακάτω εντολές:
cd /dev
ls -la | sort -k 3 | sort -k 4 >> /home/kali/Desktop/binfiles.txt
#Όπου cd /dev για να μεταφερθώ στον φάκελο /dev, ls -la για να μου εμφανίσει όλα τα αρχεία και αυτα που αρχίζουν με . σε μορφή λίστας, sort -k 3 όπου ταξινομεί με key 3 δηλαδή την 
#3η στήλη αρχικά και ομοίως sort -k 4 όπου ταξινομεί την 4η στήλη και τέλος >> /home/kali/Desktop/binfiles όπου δημιουργεί στο Desktop το αρχείο με όνομα binfiles.txt και αποθηκεύει 
#το standard output της εντολής. 
#
#
#Ερώτηση 24: Φτιάξτε ένα αρχείο που θα περιέχει πληροφορίες μόνο για τους συνδεδεμένους χρήστες που το usernameτους αρχίζει από 'ls1'
#ταξινομημένο ως προς την ημερομηνία και ώρα σύνδεσή τους.
#
#Απάντηση 24: Ομοίως με την 23:
who | egrep ls1 | sort -k 3 | sort -k 4 >> ask.txt
#όπου το who είναι η εντολή με την οποία βλέπω ποιοί χρήστες είναι συνδεδεμένοι στο σύστημα. 
#
#Ερώτηση 25: Αλλάξτε στο αρχείο 'ask1.txt'το όνομα 'Nick' (όπου συναντάται) σε 'Nickolaos'
#
#Απάντηση 25: Υλοποίησα το ζητούμενο με την εντολή:
sed -i 's/Nick/Nickolaos/g' ask1.txt
#Όπου χρησιμοποίησα την εντολή sed (stream editor) και το option -i που σημαίνει in-place να αποθηκεύσει τις αλλαγές στο αρχείο ask1.txt. Μέσα στα εισαγωγικά
#υπάρχει το s αντικαταστεί την original λέξη Nick στην new λεξη Nickolaos. Τέλος το g σημαίνει να το κάνει αυτό globally δηλαδή να αντικαταστήσει αυτή την λέξη σε όλο το αρχείο. 
#
# 
#Ερώτηση 26: Έστωτα ακόλουθα items του file system με protection strings:
#(α) '-rwxr-x--x',(β) 'drwxr-x---'και (γ) 'drwx--x--x. Εξηγείστε τι είδους items είναι και ποια τα δικαιώματα πρόσβασης user, group και others σε αυτά.
#
#
#Απάντηση 26: Γνωρίζω ότι ο πρώτος χαρακτήρας συμβολίζει το item και μετά ανα 3 χαρακτήρες συμβολίζονται τα δικαιώματα του user, group και others με αυτή τη σειρά. Επομένως:
#(α) Το item εδώ είναι η παύλα και συμβολίζει ένα οτιδήποτε αρχείο. Τα δικαιώματα του user είναι read(r) και write(w) και του group και others είναι μόνο execute(x).
#(β) Το item εδώ είναι ο χαρακτήρας d και συμβολίζει ενα directory. Τα δικαιώματα του user είναι read, write και execute και του group read και execute. Οι others δεν έχουν κανένα δικαίωμα.
#(γ) Το item εδώ είναι ο χαρακτήρας d και συμβολίζει ενα directory. Τα δικαίωματα του user είναι read, write και execute και του group και των others είναι μόνο execute.
#
#
#Ερώτηση 27: Αλλάξτε τα permissions όλων των αρχείων του καταλόγου 'testdir1' έτσι ώστε να έχουν δικαίωμα εκτέλεσης και εγγραφής μόνο ο ιδιοκτήτης, ενώ δικαίωμα ανάγνωσης να έχουν όλοι.
#
#Απάντηση 27: Γνωρίζω ότι το read έχει κωδικό 4, το write 2 και το execute 1. Αφού θέλω δικαίωμα εκτελέσης και εγγραφής για τον ιδιοκτήτη και μόνο ανάγνωσης για group και others έχω:
# user   group  others
# w+x     r      r
# 2+1     4      4 = 344
#Άρα με την εντολή chmod (change mode) άλλαξα τα δικαιώματα. Η ολοκληρωμένη εντολή είναι η παρακάτω:
chmod 0344 testdir1/*
#To αστεράκι το χρησιμοποίησα για να αλλάξω όλα τα αρχεία.
#
#
#Ερώτηση 28: Αλλάξτε τα permissions του καταλόγου 'testdir1' έτσι ώστε να έχουν δικαίωμα πρόσβασης μόνο ο ιδιοκτήτης και οι χρήστες του ιδίου με αυτόν group
#ενώ οι υπόλοιποι χρήστες να μην έχουν (θεωρείστε ότι τα τρέχοντα permissions του καταλόγου είναι 755).
#
#Απάντηση 28: Ομοίως με την 27:
chmod 750 testdir
#όπου ο owner έχει δικαιώματα read, write και execute όπως και οι χρήστες του ίδιου group ενω οι others δεν έχουν κανένα δικαίωμα επομένως δεν έχουν πρόσβαση στο φάκελο.
#
#
#Ερώτηση 30: Έστω τα παρακάτω:
#user1@localhost:~$ w
#USER TTY FROM LOGIN@ IDLE JCPU PCPU WHAT
#user1pts/01.2.3.403:340.00s0.38s0.01sw
#user2pts/15.6.7.803:450.00s0.38s0.01sls
#user3pts/29.7.5.303:570.00s0.38s0.01sps
#user1@localhost:~$ ls-al/dev/pts/*
#crw--w----1 user1 tty136, 0 Oct25 04:04 /dev/pts/0
#crw--w--w-1 user2 tty136, 1Oct25 04:04 /dev/pts/1
#crw--w--w-1 user3 tty136, 2Oct25 04:04 /dev/pts/2
#
#Εξηγήστετι είδους items του file system είναι τα παραπάνω, καθώς καιτι θα κάνουν οι παρακάτω εντολές:
#user1@localhost:~$ cat>/dev/pts/1
#user1@localhost:~$ wall "test"
#
#Aπάντηση 30: Το c item είναι character device file. Είναι αρχεία τα οποία είναι άμεσα συνδεδεμένα με το hardware. Tα αρχεία tty είναι character device files. Η εντολή cat>dev/pts/1 
#αλλάζει το standard output και έτσι μπορούμε να γράψουμε μέσα στο αρχείο /dev/pts/1. Η εντολή wall θα εμφανίσει το μήνυμα "test" στους χρήστες user1, user2, και user3.  
#
#
#Ερώτηση 31: Δημιουργείστε τα αρχεία f1, f2, f3, f4, f5, f6 ,f7 με τα εξής δικαιώματα:
#f1, 757
#f2, 313
#f3, 010
#f4, 642
#f5, 551
#f6, 133
#f7, 111
#Με χρήση της εντολής ls –l και διοχετεύοντας τα αποτελέσματά της στην εντολή egrep να βρείτε τα αρχεία όπου:
#a. To group έχει δικαιώματα r-x.
#b. Ο user και οι others έχουν ακριβώς τα ίδια δικαιώματα
#c. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για write
#d. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για write και execute
#e. To group και οι others έχουν τα ίδια δικαιώματα για read και execute
#
#Απάντηση 31: Τα αρχεία έχουν την εξής μορφή:
#-rwxr-xrwx  1 kali kali    0 Nov 29 09:43 f1
#--wx--x-wx  1 kali kali    0 Nov 29 09:43 f2
#------x---  1 kali kali    0 Nov 29 09:43 f3
#-rw-r---w-  1 kali kali    0 Nov 29 09:43 f4
#-r-xr-x--x  1 kali kali    0 Nov 29 09:43 f5
#---x-wx-wx  1 kali kali    0 Nov 29 09:43 f6
#---x--x--x  1 kali kali    0 Nov 29 09:43 f7
#
#
#Eρώτηση 32: Υποθέστε πως οι γραμμές στο αρχείο /etc/passwd είναι όμοιες με την παρακάτω:spouneri:x:2107:1067:Pouneridis Sokratis:/home/student/e2021/spouneri:/bin/bash
#Στο πέμπτο πεδίο θα υπάρχει πάντα πρώτο το επίθετο και μετά το όνομα του χρήστη. Μόνο ένα επίθετο και μόνο ένα όνομα, γραμμένα με λατινικούς χαρακτήρες κεφαλαίους ή/και πεζούς.
#Τα υπόλοιπα πεδία θα είναι γραμμένα πάντα με πεζούς λατινικούς χαρακτήρες.
#Ελέγχοντας το αρχείο /etc/passwd και κάνοντας χρήση της εντολής egrep βρείτε όλους τους (υποθετικούς)χρήστες του συστήματος όπου:
#a. Χρησιμοποιούν για κέλυφος το bash
#b. To HOME DIRECTORY τους βρίσκεται στον κατάλογο /home
#c. To UID τους είναι ίδιο με το GID τους
#d. Τουλάχιστον τα 5πρώτα γράμματα του επιθέτου τους αποτελούν μέρος και του username τουςe. 
#Τουλάχιστον τα 3 πρώτα γράμματα του επιθέτου τους και τα 3 πρώτα γράμματα του ονόματός τους αποτελούν μέρος και του username τους.
#
#a) Υλοποίησα το ζητούμενο με την εντολή: 
egrep '^[a-z]+[:][a-z]+[:][0-9]+[:][0-9]+[:][A-Za-z]+[ ]+[A-Za-z]+[:][\/a-z0-9\/]+[:][/a-z]+bash' passwd 
#Όπου ο ειδικός χαρακτήρας άγκυρας ^ σημαίνει αρχή γραμμής, τα atoms και τα περιεχόμενά τους [a-z]  και [A-Za-z] σημαίνουν να ψάξουν έναν χαρακτήρα από το a-z ή A-Z
#το atom και τα περιεχόμενά του [0-9] σημαίνει να ψάξει έναν αριθμό απο το 0-9, το atom [:] σημαίνει να ψάξει τον χαρακτήρα :, ο τελε3στής + σημαίνει να ψάξει το προηγούμενο atom
#1 ή περισσότερες φορές και τέλος \/ σημαίνει να ψάξει τον χαρακτήρα /. Η εντολή είναι τόσο μεγάλη διότι το ζητούμενο βρίσκεται στην τελευταία στήλη και κάθε στήλη χωρίζεται με τον 
#χαρακτήρα :. 
#
#b) Υλοποίησα το ζητούμενο με την εντολή:
egrep '^[a-z]+[:][a-z]+[:][0-9]+[:][0-9]+[:][A-Za-z]+[ ]+[A-Za-z]+[:]/home' passwd 
#Ομοίως με το προηγούμενο ερώτημα. Το ζητούμενο βρίσκεται στην 6η  στήλη.
#c) Υλοποίησα το ζητούμενο με την εντολή:
egrep '^[a-z]+[:][a-z]+[:]([0-9]+):\1' passwd 
#Ομοίως με το προηγούμενο ερώτημα. Η μόνη διαφορά εδώ είναι ότι αποθηκεύω την 3η στήλη σε έναν buffer και το περιεχόμενο του buffer το συγκρίνω με την 4η στήλη. 
#d) egrep -i '^[^:]*([a-z]{5,})[a-z]*:x:[0-9]+:[0-9]+:\1' passwd 
